<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–≠–º—É–ª—è—Ç–æ—Ä Raspberry Pi</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>üß† –≠–º—É–ª—è—Ç–æ—Ä Raspberry Pi</h1>
            <div class="header-controls">
                <button id="theme-toggle">üåô –¢–µ–º–∞</button>
                <button id="help-btn">‚ùì –ü–æ–º–æ—â—å</button>
            </div>
        </header>

        <div class="main-content">
            <div class="code-editor">
                <h2>–†–µ–¥–∞–∫—Ç–æ—Ä –∫–æ–¥–∞ Python</h2>
                <textarea id="python-code" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∫–æ–¥ Raspberry Pi –∑–¥–µ—Å—å...">
import RPi.GPIO as GPIO
import time
import spidev
import smbus2

# –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
GPIO.setmode(GPIO.BCM)
GPIO.setup(18, GPIO.OUT)

# SPI –ø—Ä–∏–º–µ—Ä
spi = spidev.SpiDev()
spi.open(0, 0)

# I2C –ø—Ä–∏–º–µ—Ä
bus = smbus2.SMBus(1)

try:
    for i in range(10):
        GPIO.output(18, GPIO.HIGH)
        time.sleep(0.5)
        GPIO.output(18, GPIO.LOW)
        time.sleep(0.5)
finally:
    GPIO.cleanup()
                </textarea>
                <div class="buttons">
                    <button id="run-btn">‚ñ∂Ô∏è –í—ã–ø–æ–ª–Ω–∏—Ç—å</button>
                    <button id="stop-btn">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                    <button id="clear-btn">üßπ –û—á–∏—Å—Ç–∏—Ç—å</button>
                    <button id="save-btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                    <button id="load-btn">üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                </div>
            </div>

            <div class="output">
                <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è</h2>
                <div id="output-console"></div>
            </div>
        </div>

        <div class="visualization">
            <div class="visualization-tabs">
                <button class="tab-btn active" data-tab="gpio">GPIO</button>
                <button class="tab-btn" data-tab="motors">–ú–æ—Ç–æ—Ä—ã</button>
                <button class="tab-btn" data-tab="sensors">–î–∞—Ç—á–∏–∫–∏</button>
                <button class="tab-btn" data-tab="spi-i2c">SPI/I2C/PWM</button>
            </div>

            <div class="tab-content active" id="gpio-tab">
                <h2>–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è GPIO</h2>
                <div id="gpio-components"></div>
            </div>

            <div class="tab-content" id="motors-tab">
                <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ—Ç–æ—Ä–∞–º–∏</h2>
                <div id="motor-controls"></div>
                <div id="motor-visualization"></div>
            </div>

            <div class="tab-content" id="sensors-tab">
                <h2>–î–∞–Ω–Ω—ã–µ —Å –¥–∞—Ç—á–∏–∫–æ–≤</h2>
                <div id="sensor-data"></div>
            </div>

            <div class="tab-content" id="spi-i2c-tab">
                <h2>–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ SPI/I2C –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PWM</h2>
                <div class="bus-section">
                    <h3>SPI –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h3>
                    <div id="spi-devices"></div>
                </div>
                <div class="bus-section">
                    <h3>I2C –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</h3>
                    <div id="i2c-devices"></div>
                </div>
                <div class="pwm-section">
                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PWM</h3>
                    <div id="pwm-controls"></div>
                    <div id="pwm-visualization"></div>
                </div>
            </div>
        </div>

        <div class="connection-status">
            <span id="status">‚ùå –ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ</span>
            <span id="connection-time">00:00:00</span>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ–º–æ—â–∏ -->
    <div id="help-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–ü–æ–º–æ—â—å –ø–æ —ç–º—É–ª—è—Ç–æ—Ä—É</h2>
            <div class="help-content">
                <h3>–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:</h3>
                <ul>
                    <li>GPIO –≤–≤–æ–¥/–≤—ã–≤–æ–¥</li>
                    <li>–®–ò–ú (PWM) —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</li>
                    <li>–î–≤–∏–≥–∞—Ç–µ–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ç–æ–∫–∞</li>
                    <li>–®–∞–≥–æ–≤—ã–µ –¥–≤–∏–≥–∞—Ç–µ–ª–∏</li>
                    <li>SPI —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (MCP3008, WS2812)</li>
                    <li>I2C —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (BMP280, LCD)</li>
                    <li>–†–∞–∑–ª–∏—á–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏</li>
                </ul>
                <h3>–ü—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞:</h3>
                <pre><code># GPIO –ø—Ä–∏–º–µ—Ä
import RPi.GPIO as GPIO
GPIO.setmode(GPIO.BCM)
GPIO.setup(18, GPIO.OUT)
GPIO.output(18, GPIO.HIGH)</code></pre>
            </div>
        </div>
    </div>

    <script src="websocket-client.js"></script>
    <script src="components.js"></script>
    <script src="spi-i2c-visualizer.js"></script>
    <script src="script.js"></script>
</body>
</html>